"use strict";
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */
Object.defineProperty(exports, "__esModule", { value: true });
exports.BufferSerde = void 0;
const assert_1 = require("../assert");
/**
 * A buffer serializer and equality checker
 */
class BufferSerde {
    constructor(size) {
        this.size = size;
    }
    equals(element1, element2) {
        return element1.equals(element2);
    }
    serialize(element) {
        assert_1.Assert.isEqual(element.length, this.size, `Attempting to serialize array with ${element.length} bytes, expected ${this.size}`);
        return element.toString('hex').toUpperCase();
    }
    deserialize(data) {
        assert_1.Assert.isEqual(data.length, this.size * 2, `${JSON.stringify(data)} is not a ${this.size * 2}-character hex string`);
        return Buffer.from(data, 'hex');
    }
}
exports.BufferSerde = BufferSerde;
//# sourceMappingURL=BufferSerde.js.map