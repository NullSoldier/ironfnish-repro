"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.StringUtils = void 0;
/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */
const crypto_1 = __importDefault(require("crypto"));
/**
 * A simple MD5 number hash from a string
 *
 * This is not meant for any production or cryptographic use just a
 * simple way to hash a string for test or display purposes
 */
function hashToNumber(value) {
    return parseInt(hash(value).toString('hex'), 16);
}
/**
 * A simple MD5 hash from a string
 *
 * This is not meant for any production or cryptographic use just a
 * simple way to hash a string for test or display purposes
 */
function hash(value) {
    return Buffer.from(crypto_1.default.createHash('md5').update(value).digest('hex'));
}
/**
 * Get the length in bytes of a given string
 * @param value The string to get the byte length for
 * @param encoding An optional encoding
 * @returns The number of bytes it takes to store the string
 */
const getByteLength = (value, encoding) => {
    return Buffer.from(value, encoding).byteLength;
};
/**
 * Converts a potentially unsafe string to a string that can be safely printed
 * on a terminal.
 *
 * This removes all Unicode control characters, which could be used (among
 * other things) to inject ANSI control sequences to alter arbitrary contents
 * on the user's terminal.
 */
const sanitizeString = (s) => {
    return s.replace(/[\u0000-\u001F\u007F-\u009F]/g, '').trim();
};
exports.StringUtils = { hash, hashToNumber, getByteLength, sanitizeString };
//# sourceMappingURL=string.js.map